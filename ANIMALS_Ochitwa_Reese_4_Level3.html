<!doctype html>
<html lang="en">

<head>
  <title>Title</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS v5.2.1 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
   <script src="https://cdnjs.cloudflare.com/ajax/libs/particlesjs/2.2.2/particles.min.js"></script>
    <style>
    html, body {
        margin: 0;
        padding : 0;
        font-family:Verdana, Geneva, Tahoma, sans-serif;
        }
    .background {
        position: absolute;
        display : block;
        background-repeat: repeat;
         top: 0;
         left: 0;
         z-index : -1; }
    .card-grouping{
        margin:auto;
        width:70%;
        margin-top: 20px;
    }
    .animal-img{
        height: 160px;
        width: 250px;
        object-fit: cover;
        object-position: left;
    }
    .row>*{
        padding-left:0px !important;
        padding-left:0px !important;
    }
    .card-text{
        font-size: 10px;
    }

    </style>
</head>

<body>
  <header>
    <nav class="navbar navbar-expand-sm navbar-light bg-light">
          <div class="container">
            <a class="navbar-brand" href="index.html">Home</a>
            <button class="navbar-toggler d-lg-none" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavId" aria-controls="collapsibleNavId"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="collapsibleNavId">
                <ul class="navbar-nav me-auto mt-2 mt-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" href="ANIMALS_Ochitwa_Reese_4_Level3.html" aria-current="page">Animals<span class="visually-hidden">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="ADD_Ochitwa_Reese_4_level3.html">Submit an animal</a>
                    </li>
                </ul>
                <form class="d-flex my-2 my-lg-0">
                  <input id="searchInput" type="text" placeholder="Search">
                  <div id="searchResults" class="card-grouping row"></div>
                  <button class="btn btn-outline-success my-2 my-sm-0" type="button" onclick="performSearch()">Search</button>
              </form>
            </div>
      </div>
    </nav>
    
  </header>
  <main>
<!--Cards-->
<!--ROW 1-->
<div class="card-grouping" id="card-display">
<div class="row">
    <div data-name="Horse_Shoe_Crab" class="card animal-card col-md-4 mb-3" >
        <div class="row g-0">
          <div class="col-md-4">
            <img src="images/crab.jpg" class="img-fluid animal-img rounded-start" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">Horse Shoe Crab</h5>
              <p class="card-text">Species</p>
              <p class="card-text endangerment">Least concern</p>
              <button type="button" class="btn btn-sm btn-dark">Read More</button>
            </div>
          </div>
        </div>
      </div>
      <div data-name="Lemur" class="card col-md-4 animal-card mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="images/lemur.jpg" class="img-fluid  animal-img rounded-start" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">Lemur</h5>
              <p class="card-text">Species</p>
              <p class="card-text endangerment">Least concern</p>
              <button type="button" class="btn btn-sm btn-dark">Read More</button>
            </div>
          </div>
        </div>
      </div>
      <div data-name="Dolphin" class="card animal-card col-md-4  mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="images/dolphin.jpg" class="img-fluid animal-img rounded-start" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">Dolphin</h5>
              <p class="card-text">Species</p>
              <p class="card-text endangerment">Least concern</p>
              <button type="button" class="btn btn-sm btn-dark">Read More</button>
            </div>
          </div>
        </div>
      </div>
</div>
<!--ROW 2-->
<div class="row">
    <div data-name="Deer" class="card animal-card col-md-4  mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="images/deer.jpg" class="img-fluid animal-img rounded-start" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">Deer</h5>
              <p class="card-text">Species</p>
              <p class="card-text endangerment">Least concern</p>
              <button type="button" class="btn btn-sm btn-dark">Read More</button>
            </div>
          </div>
        </div>
      </div>
      <div data-name="Tiger" class="card animal-card  col-md-4  mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="images/tiger.jpg" class="img-fluid animal-img rounded-start" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">Tiger</h5>
              <p class="card-text">Species</p>
              <p class="card-text endangerment">Least concern</p>
              <button type="button" class="btn btn-sm btn-dark">Read More</button>
            </div>
          </div>
        </div>
      </div>
      <div data-name="Parrot" class="card animal-card col-md-4  mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="images/parrot.jpg" class="img-fluid animal-img rounded-start" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">Parrot</h5>
              <p class="card-text">Species</p>
              <p class="card-text endangerment">Least concern</p>
              <button type="button" class="btn btn-sm btn-dark">Read More</button>
            </div>
          </div>
        </div>
      </div>
</div>
<!--ROW 3-->
<div class="row">
    <div data-name="Otter" class="card animal-card col-md-4  mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="images/otter.jpg" class="img-fluid  animal-img rounded-start" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">Otter</h5>
              <p class="card-text">Species</p>
              <p class="card-text endangerment">Least concern</p>
              <button type="button" class="btn btn-sm btn-dark">Read More</button>
            </div>
          </div>
        </div>
      </div>
      <div data-name="Rhino" class="card animal-card col-md-4  mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="images/rhino.jpg" class="img-fluid animal-img rounded-start" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">Rhino</h5>
              <p class="card-text">Species</p>
              <p class="card-text endangerment">Least concern</p>
              <button type="button" class="btn btn-sm btn-dark">Read More</button>
            </div>
          </div>
        </div>
      </div>
      <div data-name="Owl" class="card animal-card col-md-4  mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="images/owl.jpg" class="img-fluid animal-img rounded-start" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">Owl</h5>
              <p class="card-text">Species</p>
              <p class="card-text endangerment">Least concern</p>
              <button type="button" class="btn btn-sm btn-dark">Read More</button>
            </div>
          </div>
        </div>
      </div>
</div>
<!--ROW 4-->
<div class="row">
    <div data-name="Elephant" class="card animal-card col-md-4  mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="images/elephant.jpg" class="img-fluid animal-img rounded-start" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">Elephant</h5>
              <p class="card-text">Species</p>
              <p class="card-text endangerment">Least concern</p>
              <button type="button" class="btn btn-sm btn-dark">Read More</button>
            </div>
          </div>
        </div>
      </div>
      <div data-name="Jellyfish" class="card animal-card col-md-4  mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="images/jellyfish.jpg" class="img-fluid animal-img rounded-start" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">Jellyfish</h5>
              <p class="card-text">Species</p>
              <p class="card-text endangerment">Least concern</p>
              <button type="button" class="btn btn-sm btn-dark">Read More</button>
            </div>
          </div>
        </div>
      </div>
      <div data-name="Wolf" class="card animal-card col-md-4  mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="images/wolf.jpg" class="img-fluid animal-img rounded-start" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">Wolf</h5>
              <p class="card-text">Species</p>
              <p class="card-text endangerment">Least concern</p>
              <button type="button" class="btn btn-sm btn-dark">Read More</button>
            </div>
          </div>
        </div>
      </div>
</div>
<div id="submittedCard" class="row"></div>
</div>
  <!--END-->
  </main>
  <footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/particlesjs/2.2.2/particles.min.js"></script>
      <canvas class=
      "background"
      ></canvas>
    <script src="path/to/particles.min.js"></script>
    <script >window. onload= function() {
          Particles.init
        ({
            selector: '.background',
            connectParticles: true
          });
        };</script>
  </footer>
  <script src="https://unpkg.com/lunr/lunr.js"></script>
  <script>
    var animalDocuments = [
    { "name": "Horse Shoe Crab", "species": "Species", "endangerment": "Least concern" },
    { "name": "Lemur", "species": "Species", "endangerment": "Least concern" },
    { "name": "Dolphin", "species": "Species", "endangerment": "Least concern" },
    { "name": "Deer", "species": "Species", "endangerment": "Least concern" },
    { "name": "Tiger", "species": "Species", "endangerment": "Least concern" },
    { "name": "Parrot", "species": "Species", "endangerment": "Least concern" },
    { "name": "Otter", "species": "Species", "endangerment": "Least concern" },
    { "name": "Rhino", "species": "Species", "endangerment": "Least concern" },
    { "name": "Owl", "species": "Species", "endangerment": "Least concern" },
    { "name": "Elephant", "species": "Species", "endangerment": "Least concern" },
    { "name": "Jellyfish", "species": "Species", "endangerment": "Least concern" },
    { "name": "Wolf", "species": "Species", "endangerment": "Least concern" }];

var idx = lunr(function () {
      this.ref('name');
      this.field('name');
      this.field('species');
      this.field('endangerment');

    animalDocuments.forEach(function (doc) {
        this.add(doc)
    }, this);
});
function updateCardDisplay(searchTerm) {
    var results = idx.search(searchTerm);

var results_full = results.map(function (item) {
    return animalDocuments.filter(function (value, index, arr) {
        return value.name == item.ref;
    })[0];
});
    console.log('Search Term:', searchTerm);
    console.log('Results:', results);

    

    // Get all existing cards
    var existingCards = document.querySelectorAll('.animal-card');

    // Hide all existing cards
    existingCards.forEach(function (card) {
      console.log('Card data-name:', card.getAttribute('data-name'));
        card.style.display = 'none';
    });



    results.forEach(function (result) {
        var matchingCard = document.querySelector('.animal-card[data-name="' + result.ref.replace(/ /g, '_') + '"]');
        console.log('Result ref:', result.ref);
        console.log('Matching card:', matchingCard);
        if (matchingCard) {
            matchingCard.style.display = 'block';
        }
    });}
    function performSearch() {
    var searchTerm = document.getElementById('searchInput').value;
    updateCardDisplay(searchTerm);
};

    document.getElementById('searchInput').addEventListener('keyup', function (event) {
    if (event.key === 'Enter') {
            event.preventDefault(); // Prevent form submission
        var searchTerm = event.target.value;
        updateCardDisplay(searchTerm);
    }
});
  </script>
</script>
  <!-- Bootstrap JavaScript Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
    integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous"></script>
            <script>
                document.addEventListener('DOMContentLoaded', function () {
                    var submittedData = JSON.parse(localStorage.getItem('submittedData'));
        
                    if (submittedData) {
                        var submittedCard = document.createElement('div');
                        submittedCard.innerHTML = `
                            <div data-name="${submittedData.ColloquialName}" class="card animal-card col-md-4  mb-3" style="max-width: 540px;">
                            <div class="row g-0">
                            <div class="col-md-4">
                                <img src="images/animals.jpg" class="img-fluid animal-img rounded-start" alt="...">
                            </div>
                            <div class="col-md-8">
                                <div class="card-body">
                                <h5 class="card-title">${submittedData.ColloquialName}</h5>
                                <p class="card-text">${submittedData.SpeciesName}</p>
                                <p class="card-text endangerment">${submittedData.Endangered}</p>
                                <a href="C:\\Users\\reese\\Downloads\\${submittedData.ColloquialName}.html" class="btn btn-sm btn-dark">Read More</a>
                                </div>
                            </div>
                            </div>
                        </div>
                        `;
                        
                        // Append the new card to the submittedCard container
                        document.getElementById('submittedCard').appendChild(submittedCard);

                    }});
            </script>
</body>
</html>